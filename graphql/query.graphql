

## Subscription
query GetAccountInfoForCreatingSubscription ($id: uuid!) {
  saas_account(where: {id: {_eq: $id}}) {
    id
    subscription_customer {
      stripe_customer
    }
    subscription_status {
      status
      subscription_plan {
        stripe_code
      }
    }
  }
}

## Subscription, Authz
query GetRoleForUserAndAccount ($user: String!, $account: uuid!){
  saas_membership(where: {id_user: {_eq: $user}, id_account: {_eq: $account}}) {
    id_role
  }
}

## Subscription
query GetStripeSubscription ($id_account: uuid!) {
  subscription_status(where: {id_account: {_eq: $id_account}}) {
    stripe_subscription_id
  }
}

## Subscription
query GetAccountFromSubscription ($stripe_subscription_id: String!) {
  subscription_status(where: {stripe_subscription_id: {_eq: $stripe_subscription_id}}) {
    id_account
  }
}